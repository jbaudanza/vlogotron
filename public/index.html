<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
    <meta property="og:title" content="Vlogotron: Remix My Face!" />
    <meta property="og:url" content="https://www.vlogotron.com/" />
    <meta property="og:image" content="https://www.vlogotron.com/screenshot.png" />
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <div id="mount-node"></div>
  </body>
  <script type="text/javascript">
    function loadJs(src) {
      var scriptEl = document.createElement('script');
      scriptEl.src = src;
      document.head.appendChild(scriptEl);
    }

    if (document.location.hostname !== 'localhost') {
      var src = "https://us-central1-vlogotron-95daf.cloudfunctions.net/accessLog?t=" + +(new Date());
      if (document.referrer)
        src += '&referrer=' + encodeURIComponent(document.referrer);
      loadJs(src);
    }

    if (document.location.host === 'www.vlogotron.com') {
      loadJs("/v1.js");
    } else {
      loadJs("/main.js");
    }

    // TODO: We woudln't need to use the onload event if we didn't have such a
    // janky way to switch between staging and production.
    function onLoad() {
      window.main(document.getElementById('mount-node'));
    }

    if ('AudioContext' in window || 'webkitAudioContext' in window) {
      document.body.onload = onLoad;
    } else {
      document.location = '/browser_not_supported.html';
    }
  </script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-99664943-1', 'auto');
  ga('send', 'pageview');
  </script>
</html>